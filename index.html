
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<title>Editorify</title>
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/json2/20160511/json2.min.js" integrity="sha512-uWk2ZXl3GVrq6DZsrL5dSg1S/F3MNQ9VaDFigqXOoKUnWG58UxOuJGfTrzh5KjpoBvPiFniL2PahU2HUTFMJXw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<script type="text/javascript" src="https://code.jquery.com/jquery-3.7.0.min.js" ></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.13.6/underscore-min.js" integrity="sha512-2V49R8ndaagCOnwmj8QnbT1Gz/rie17UouD9Re5WxbzRVUGoftCu5IuqqtAM9+UC3fwfHCSJR1hkzNQh/2wdtg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.string/3.3.5/underscore.string.min.js" integrity="sha512-jcZT+ZY5et3F1XlfA45cjpPCEeA2zR3Pk2UDiYYE2c7Dvtfzpxpdv17fDD0DW+/vBo4A5ijZTBToztEkZ0QypQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<script type="text/javascript" src="https://backbonejs.org/backbone-min.js" ></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/twig.js/1.16.0/twig.min.js" integrity="sha512-VDU2fNFDWwfS4f9LKFEjq6Lnyk5wdZbTfipySTtbauaZ6ZXEiw1I5yOH4H9neWziLdgOJzAFMZBNJOjIwkl0Aw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<script src="src/libs/qweb2.js" type="text/javascript"></script>


<script src="app.js" type="text/javascript"></script>
</head>
<body class=".editor_page">

<script type="text/javascript">
       var engine = new QWeb2.Engine("./src/templates/templates.xml")
        engine.debug = true;
        
        var def = $.Deferred();
        engine.add_template('./src/templates/templates.xml', function(err) {
            if (err) {
                def.reject(err);
            } else {
                def.resolve();
                console.log(engine.render('viewmanager'));
            }
        });
</script>

<script type="text/javascript">
   var Widget = Backbone.View.extend({
		        initialize: function(option){
		           console.log("widget option data: ", option || {});
			       this.render(); // render template			
		        },
		        render: function(){
		           this.$el.append("<h1>working</h1>");
                   console.log("this.el",this.el);
                   console.log("this.$el",this.$el);
		        },
		        events: {
			      "click h1": "warn",
		        },
		        warn: function(){
		           throw Error("Great Error Message.");
		        },
		        destroy: function(){
                  this.el.remove();
                  this.unbind();
                }
	        });
	        
	       $(function() {
	           var input = new Widget();
	           input.$el.appendTo($("#box1"));
	           
	       });
	       
	       window.onerror = function(message, url, linenumber) {
	            console.log("message: ", message);
              alert("JavaScript error: " + message + " on line " + linenumber + " for " + url);
           }

</script>

   <div class="box" id="box1"></div>
   
   
</body>
</html>
